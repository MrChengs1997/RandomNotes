<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    <table border="1px" style="margin: auto">
        <tr>
            <!-- 登陆显示用户名,角色-->
            <td sec:authorize="isAuthenticated()"><span sec:authentication="name"></span></td>
            <!--该版本以及之前版本不支持该参数 -->
            <!--<groupId>org.springframework.boot</groupId>-->
            <!--<artifactId>spring-boot-starter-parent</artifactId>-->
            <!--<version>2.0.9.RELEASE</version>-->
            <!--<td sec:authorize="isAuthenticated()"><span sec:authentication="principal.getAuthorities()"></span></td>-->
        </tr>
        <tr>
            <!--登陆之后有注销 -->
            <!--登陆之前有登陆 -->
            <td><a href="#" th:href="@{/index}" >首页</a></td>
            <!-- 是否登陆-->
            <td><a href="#" th:href="@{/logout}"  sec:authorize="isAuthenticated()">注销</a></td>
             <td><a href="#" th:href="@{/login}" sec:authorize="!isAuthenticated()"> 登陆</a></td>
        </tr>
        <tr>
            <td colspan="3">springsecurity</td>
        </tr>
        <!--根据用户角色动态选择-->
        <!--其实启动便会不显示该栏目 -->
        <tr sec:authorize="hasRole('vip1')">
            <td><a href="#" th:href="@{/level1/1}">level1--1</a></td>
            <td><a href="#" th:href="@{/level1/2}">level1--2</a></td>
            <td><a href="#" th:href="@{/level1/3}">level1--3</a></td>
        </tr>
        <tr>
            <td><a href="#" th:href="@{/level2/1}">level2--1</a></td>
            <td><a href="#" th:href="@{/level2/2}">level2--2</a></td>
            <td><a href="#" th:href="@{/level2/3}">level2--3</a></td>
        </tr>
        <tr>
            <td><a href="#" th:href="@{/level3/1}">level3--1</a></td>
            <td><a href="#" th:href="@{/level3/2}">level3--2</a></td>
            <td><a href="#" th:href="@{/level3/3}">level3--3</a></td>
        </tr>
    </table>
</body>
</html>